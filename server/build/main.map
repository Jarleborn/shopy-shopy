{"version":3,"sources":["webpack:///webpack/bootstrap 7047a1ccc48e51c7473c","webpack:///./src/index.js","webpack:///./src/modules/dbconnecter.js","webpack:///external \"mongoose\"","webpack:///../secrets/auth.js","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///./src/modules/getters.js","webpack:///./src/models/pages.js","webpack:///./src/modules/saver.js"],"names":["express","require","app","http","Server","port","db","connectToDB","then","res","use","static","__dirname","all","req","next","header","get","getPages","console","log","listen","mongoose","Promise","resolve","reject","promise","connect","useMongoClient","catch","err","pass","pageModel","find","pagesFound","length","pageS","Schema","name","String","text","Page","model","module","exports","savePage","page","newPage","save"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7047a1ccc48e51c7473c","import {connectToDB} from './modules/dbconnecter'\nimport {getPages} from './modules/getters'\nimport {savePage} from './modules/saver'\n\n\nconst express = require('express')\nconst app = express()\nconst http = require('http').Server(app)\nconst port = '1337'\n\nlet db = ''\n\nconnectToDB().then(function (res) {\n  db = res.db\n})\n\napp.use(express.static(__dirname + '/public'))\napp.all('/', function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*')\n  res.header('Access-Control-Allow-Headers', 'X-Requested-With')\n  next()\n})\n\napp.get('/getPages', function (req, res) {\n  getPages().then(function (res) {\n    console.log(res)\n  })\n})\n\napp.listen(port, function() {\n  console.log('Our app is running on http://localhost:' + port)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const mongoose = require('mongoose')\nimport {pass} from '../../../secrets/auth'\n\nfunction connectToDB() {\n  return new Promise(function(resolve, reject) {\n    let promise = mongoose.connect('mongodb://root:'+pass+'@ds123662.mlab.com:23662/nassel', {\n      useMongoClient: true,\n    })\n    promise.then(function(db) {\n      resolve(db)\n    })\n    promise.catch(function (err) {\n      reject(err)\n    })\n  })\n\n}\n\n\n\n\n\nexport {connectToDB}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/dbconnecter.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 3\n// module chunks = 0","export const pass = 'pass' \n\n\n\n// WEBPACK FOOTER //\n// ../secrets/auth.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 6\n// module chunks = 0","// const mongoose = require('mongoose')\n// import {pass} from '../../../secrets/auth'\nconst pageModel = require('../models/pages')\n\nfunction getPages(db) {\n  return new Promise(function(resolve, reject) {\n    pageModel.find(function(err, pagesFound){\n      if (err) {\n        console.log(err)\n        reject(err)\n      } else if(pagesFound.length === 0){\n        resolve('No pages found')\n      } else if (pagesFound) {\n        console.log('found: ' + pagesFound.length + 'pages')\n        resolve(pagesFound)\n        return pagesFound\n      }\n    })\n\n  })\n\n}\n\n\n\n\n\nexport {getPages}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/getters.js","const mongoose = require('mongoose')\nconst pageS = mongoose.Schema({\n  name: String,\n  text: String,\n})\n\nconst Page = mongoose.model('page', pageS)\n\nmodule.exports = Page\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pages.js","// const mongoose = require('mongoose')\n// import {pass} from '../../../secrets/auth'\nconst pageModel = require('../models/pages')\n\nfunction savePage(page) {\n  return new Promise(function(resolve, reject) {\n    let newPage = new pageModel(page)\n    newPage.save(function(err){\n      if (err) {\n        console.log(err)\n        reject(err)\n      }\n      resolve('saved')\n    })\n  })\n}\n\n\n\n\n\nexport {savePage}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/saver.js"],"sourceRoot":""}