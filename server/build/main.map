{"version":3,"sources":["webpack:///webpack/bootstrap 59a49444e7ff087102a3","webpack:///external \"mongoose\"","webpack:///./src/models/pages.js","webpack:///./src/index.js","webpack:///./src/modules/dbconnecter.js","webpack:///../secrets/auth.js","webpack:///./src/modules/getters.js","webpack:///./src/modules/saver.js","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///./node_modules/cors/lib/index.js","webpack:///external \"object-assign\"","webpack:///external \"vary\""],"names":["mongoose","require","pageS","Schema","name","String","text","Page","model","module","exports","cors","express","app","http","Server","port","db","connectToDB","then","res","use","static","__dirname","get","req","getPages","console","log","response","send","JSON","stringify","listen","Promise","resolve","reject","promise","connect","useMongoClient","catch","err","pass","pageModel","find","pagesFound","length","savePage","page","newPage","save"],"mappings":"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,CAAcK,IAAd,CAAd;AACAC,YAAQC,IAAR,CAAa,UAAST,GAAT,EAAa;AACxB,UAAIA,GAAJ,EAAS;AACPd,gBAAQC,GAAR,CAAYa,GAAZ;AACAL,eAAOK,GAAP;AACD;AACDN,cAAQ,OAAR;AACD,KAND;AAOD,GATM,CAAP;AAUD;;;;;;;;ACfD,oC;;;;;;ACAA,iC;;;;;;ACAA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAqE;AACrE;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,qCAAqC;AACrC;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA,CAAC;;;;;;;AC7OD,0C;;;;;;ACAA,iC","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59a49444e7ff087102a3","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 0\n// module chunks = 0","const mongoose = require('mongoose')\nconst pageS = mongoose.Schema({\n  name: String,\n  text: String,\n})\n\nconst Page = mongoose.model('page', pageS)\n\nmodule.exports = Page\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/pages.js","import {connectToDB} from './modules/dbconnecter'\nimport {getPages} from './modules/getters'\nimport {savePage} from './modules/saver'\n\nconst cors = require('cors')\nconst express = require('express')\nconst app = express()\nconst http = require('http').Server(app)\nconst port = '1337'\n\n\nlet db = ''\n\nconnectToDB().then(function (res) {\n  db = res.db\n})\n\napp.use(express.static(__dirname + '/public'))\napp.use(cors())\n// app.all(function(req, res, next) {\n//   res.header('Access-Control-Allow-Origin', '*')\n//   res.header('Access-Control-Allow-Headers\", \"Origin, X-Requested-With,  Accept')\n//   next()\n// })\n\n\napp.get('/getPages', function (req, res) {\n  getPages()\n  .then(response => {\n    console.log('resssssss',response)\n    res.send(JSON.stringify(response))\n  })\n})\n\napp.listen(port, function() {\n  console.log('Our app is running on http://localhost:' + port)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const mongoose = require('mongoose')\nimport {pass} from '../../../secrets/auth'\n\nfunction connectToDB() {\n  return new Promise(function(resolve, reject) {\n    let promise = mongoose.connect('mongodb://root:'+pass+'@ds123662.mlab.com:23662/nassel', {\n      useMongoClient: true,\n    })\n    promise.then(function(db) {\n      resolve(db)\n    })\n    promise.catch(function (err) {\n      reject(err)\n    })\n  })\n\n}\n\n\n\n\n\nexport {connectToDB}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/dbconnecter.js","export const pass = 'pass' \n\n\n\n// WEBPACK FOOTER //\n// ../secrets/auth.js","// const mongoose = require('mongoose')\n// import {pass} from '../../../secrets/auth'\nconst pageModel = require('../models/pages')\n\nfunction getPages(db) {\n  return new Promise(function(resolve, reject) {\n    pageModel.find(function(err, pagesFound){\n      if (err) {\n        console.log(err)\n        reject(err)\n      } else if(pagesFound.length === 0){\n        resolve('No pages found')\n      } else if (pagesFound) {\n        console.log('found: ' + pagesFound.length + 'pages')\n        resolve(pagesFound)\n        return pagesFound\n      }\n    })\n\n  })\n\n}\n\n\n\n\n\nexport {getPages}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/getters.js","// const mongoose = require('mongoose')\n// import {pass} from '../../../secrets/auth'\nconst pageModel = require('../models/pages')\n\nfunction savePage(page) {\n  return new Promise(function(resolve, reject) {\n    let newPage = new pageModel(page)\n    newPage.save(function(err){\n      if (err) {\n        console.log(err)\n        reject(err)\n      }\n      resolve('saved')\n    })\n  })\n}\n\n\n\n\n\nexport {savePage}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/saver.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 9\n// module chunks = 0","(function () {\n\n  'use strict';\n\n  var assign = require('object-assign');\n  var vary = require('vary');\n\n  var defaults = {\n      origin: '*',\n      methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\n      preflightContinue: false,\n      optionsSuccessStatus: 204\n    };\n\n  function isString(s) {\n    return typeof s === 'string' || s instanceof String;\n  }\n\n  function isOriginAllowed(origin, allowedOrigin) {\n    if (Array.isArray(allowedOrigin)) {\n      for (var i = 0; i < allowedOrigin.length; ++i) {\n        if (isOriginAllowed(origin, allowedOrigin[i])) {\n          return true;\n        }\n      }\n      return false;\n    } else if (isString(allowedOrigin)) {\n      return origin === allowedOrigin;\n    } else if (allowedOrigin instanceof RegExp) {\n      return allowedOrigin.test(origin);\n    } else {\n      return !!allowedOrigin;\n    }\n  }\n\n  function configureOrigin(options, req) {\n    var requestOrigin = req.headers.origin,\n      headers = [],\n      isAllowed;\n\n    if (!options.origin || options.origin === '*') {\n      // allow any origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: '*'\n      }]);\n    } else if (isString(options.origin)) {\n      // fixed origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: options.origin\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    } else {\n      isAllowed = isOriginAllowed(requestOrigin, options.origin);\n      // reflect origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: isAllowed ? requestOrigin : false\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureMethods(options) {\n    var methods = options.methods;\n    if (methods.join) {\n      methods = options.methods.join(','); // .methods is an array, so turn it into a string\n    }\n    return {\n      key: 'Access-Control-Allow-Methods',\n      value: methods\n    };\n  }\n\n  function configureCredentials(options) {\n    if (options.credentials === true) {\n      return {\n        key: 'Access-Control-Allow-Credentials',\n        value: 'true'\n      };\n    }\n    return null;\n  }\n\n  function configureAllowedHeaders(options, req) {\n    var allowedHeaders = options.allowedHeaders || options.headers;\n    var headers = [];\n\n    if (!allowedHeaders) {\n      allowedHeaders = req.headers['access-control-request-headers']; // .headers wasn't specified, so reflect the request headers\n      headers.push([{\n        key: 'Vary',\n        value: 'Access-Control-Request-Headers'\n      }]);\n    } else if (allowedHeaders.join) {\n      allowedHeaders = allowedHeaders.join(','); // .headers is an array, so turn it into a string\n    }\n    if (allowedHeaders && allowedHeaders.length) {\n      headers.push([{\n        key: 'Access-Control-Allow-Headers',\n        value: allowedHeaders\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureExposedHeaders(options) {\n    var headers = options.exposedHeaders;\n    if (!headers) {\n      return null;\n    } else if (headers.join) {\n      headers = headers.join(','); // .headers is an array, so turn it into a string\n    }\n    if (headers && headers.length) {\n      return {\n        key: 'Access-Control-Expose-Headers',\n        value: headers\n      };\n    }\n    return null;\n  }\n\n  function configureMaxAge(options) {\n    var maxAge = options.maxAge && options.maxAge.toString();\n    if (maxAge && maxAge.length) {\n      return {\n        key: 'Access-Control-Max-Age',\n        value: maxAge\n      };\n    }\n    return null;\n  }\n\n  function applyHeaders(headers, res) {\n    for (var i = 0, n = headers.length; i < n; i++) {\n      var header = headers[i];\n      if (header) {\n        if (Array.isArray(header)) {\n          applyHeaders(header, res);\n        } else if (header.key === 'Vary' && header.value) {\n          vary(res, header.value);\n        } else if (header.value) {\n          res.setHeader(header.key, header.value);\n        }\n      }\n    }\n  }\n\n  function cors(options, req, res, next) {\n    var headers = [],\n      method = req.method && req.method.toUpperCase && req.method.toUpperCase();\n\n    if (method === 'OPTIONS') {\n      // preflight\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureMethods(options, req));\n      headers.push(configureAllowedHeaders(options, req));\n      headers.push(configureMaxAge(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n\n      if (options.preflightContinue ) {\n        next();\n      } else {\n        // Safari (and potentially other browsers) need content-length 0,\n        //   for 204 or they just hang waiting for a body\n        res.statusCode = options.optionsSuccessStatus || defaults.optionsSuccessStatus;\n        res.setHeader('Content-Length', '0');\n        res.end();\n      }\n    } else {\n      // actual response\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n      next();\n    }\n  }\n\n  function middlewareWrapper(o) {\n    // if options are static (either via defaults or custom options passed in), wrap in a function\n    var optionsCallback = null;\n    if (typeof o === 'function') {\n      optionsCallback = o;\n    } else {\n      optionsCallback = function (req, cb) {\n        cb(null, o);\n      };\n    }\n\n    return function corsMiddleware(req, res, next) {\n      optionsCallback(req, function (err, options) {\n        if (err) {\n          next(err);\n        } else {\n          var corsOptions = assign({}, defaults, options);\n          var originCallback = null;\n          if (corsOptions.origin && typeof corsOptions.origin === 'function') {\n            originCallback = corsOptions.origin;\n          } else if (corsOptions.origin) {\n            originCallback = function (origin, cb) {\n              cb(null, corsOptions.origin);\n            };\n          }\n\n          if (originCallback) {\n            originCallback(req.headers.origin, function (err2, origin) {\n              if (err2 || !origin) {\n                next(err2);\n              } else {\n                corsOptions.origin = origin;\n                cors(corsOptions, req, res, next);\n              }\n            });\n          } else {\n            next();\n          }\n        }\n      });\n    };\n  }\n\n  // can pass either an options hash, an options delegate, or nothing\n  module.exports = middlewareWrapper;\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/cors/lib/index.js\n// module id = 10\n// module chunks = 0","module.exports = require(\"object-assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"object-assign\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"vary\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vary\"\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}